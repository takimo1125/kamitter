# Kamitter プロジェクト概要

## 【概要】

Kamitter は、Twitter アカウントの運用を自動化する Web アプリケーションです。1 つのユーザーアカウントで複数の Twitter アカウントを管理し、スケジュールに基づいた自動ツイート、キーワードベースの自動いいね、フォロワー獲得のための自動フォロー・アンフォローなどの機能を提供します。

Twitter のレート制限に配慮した安全な自動化機能により、アカウントの凍結リスクを最小限に抑えながら、効率的な Twitter 運用を実現します。

## 【実装内容】

### システムアーキテクチャ

**フロントエンド**

-   Vue.js 2.6 + Vue Router + Vuex による SPA 構成
-   Element UI によるモダンで直感的な UI
-   Axios による API 通信
-   SASS によるメンテナブルな CSS 管理

**バックエンド**

-   Laravel 6 + PHP 7.2+で構築された RESTful API
-   Twitter OAuth 認証による安全なアカウント連携
-   スケジューラーを使った定期実行タスク
-   SendGrid を使ったメール通知機能

### 主要な実装機能

#### 1. 認証システム

-   Laravel Socialite を利用した Twitter OAuth 認証
-   複数 Twitter アカウントの連携管理
-   CSRF トークンによる脆弱性対策
-   セッション管理による権限制御

#### 2. 自動ツイート機能

-   スケジュール投稿の実装
-   分単位のタイミング制御（Laravel Cron）
-   ツイート完了時のメール通知
-   ツイート済み・未送信のステータス管理

#### 3. 自動いいね機能

-   キーワード検索 API の活用
-   フィルター単語による条件絞り込み
-   レート制限に配慮した間隔実行
-   いいね履歴の管理

#### 4. 自動フォロー機能

-   フォロワーリスト API によるターゲット抽出
-   日本語プロフィール判定機能
-   AND/OR 条件検索の実装
-   除外ワード機能
-   フォロー履歴の管理（30 日以内の重複防止）
-   フォロワー数に応じたレート制限の動的調整

#### 5. 自動アンフォロー機能

-   フォローバック監視
-   非アクティブユーザーの自動検出
-   アンフォロー履歴の記録
-   フォロワーターゲットリストとの連携

#### 6. システム管理機能

-   各サービスの起動・停止制御
-   API 制限時の自動待機
-   レート制限エラーのハンドリング
-   システム全体の稼働状況表示

### データベース設計

**主要なモデルとリレーション**

-   `users` → 1:N `twitter_users`（ユーザーと Twitter アカウントの紐付け）
-   `twitter_users` → 1:N `automatic_tweets`（自動ツイート設定）
-   `twitter_users` → 1:N `automatic_likes`（自動いいね設定）
-   `twitter_users` → 1:N `follow_targets`（フォローターゲット）
-   `twitter_users` → 1:N `follow_histories`（フォロー履歴）
-   `filter_words` → 1:N `automatic_likes`（フィルター条件）

**履歴管理の実装**

-   フォロー・アンフォロー履歴による重複防止
-   30 日間のフォロー再訪防止機能
-   ターゲットリストのステータス管理（待機中/作成中/完了）

### API 実装

**RESTful API 設計**

-   `/api/register`, `/api/login`, `/api/logout` - 認証エンドポイント
-   `/api/twitter/user/list`, `/api/twitter/user/info/{id}` - Twitter アカウント管理
-   `/api/tweet` - 自動ツイート CRUD
-   `/api/like` - 自動いいね CRUD
-   `/api/filter` - フィルター単語 CRUD
-   `/api/system/status`, `/api/system/run`, `/api/system/stop` - システム制御

**エラーハンドリング**

-   Twitter API エラーの検知と対応
-   API 制限時の自動ステータス切り替え
-   詳細なログ記録機能

### バッチ処理の実装

**Laravel スケジューラーによる定期実行**

-   `auto:tweet` - 1 分毎に自動ツイートをチェック
-   `auto:like` - 毎時 50 分・51 分に自動いいねを実行
-   `auto:follow` - 毎時 0 分・1 分に自動フォローを実行
-   `auto:unfollow` - 毎時 0 分・1 分に自動アンフォローを実行
-   `inspect:followback` - 毎時 10 分・11 分にフォローバックを監視
-   `inspect:active` - 毎時 30 分・31 分にアクティブユーザーを検査

### セキュリティ対策

-   OAuth 認証による安全な認証フロー
-   CSRF 対策（Token リフレッシュ機能）
-   権限制御（自分のリソースのみアクセス可能）
-   API レート制限の厳格な遵守
-   ログ記録による監査証跡

### メール通知機能

SendGrid を使用したメール通知の実装：

-   ツイート完了通知
-   フォロー完了通知
-   アンフォロー完了通知
-   いいね完了通知
-   API 制限時の警告通知

## 【習得内容】

### 技術スキル

**フロントエンド開発**

-   Vue.js のコンポーネント設計と再利用性の高い構造の構築
-   Vue Router による SPA におけるルーティング設計
-   Vuex による状態管理（ユーザー情報、アカウント状態、システム状態）
-   Element UI を活用したユーザーフレンドリーな UI 実装
-   Axios による RESTful API との通信設計
-   SASS による保守性の高い CSS 設計（BEM 命名規則）

**バックエンド開発**

-   Laravel Framework による MVC アーキテクチャの実践
-   Eloquent ORM によるデータベース操作とリレーション実装
-   RESTful API 設計（エンドポイント設計、HTTP メソッドの適切な使用）
-   認証・認可機能の実装（Laravel Socialite、OAuth 認証）
-   バリデーション・フォームリクエストによる入力値検証
-   ミドルウェアによるロジックの横断的な処理実装

**データベース設計**

-   正規化されたデータベース設計
-   リレーションシップ（1:1, 1:N, N:N）の適切な設計と実装
-   マイグレーションによるスキーマ管理
-   インデックス設計によるクエリパフォーマンス最適化
-   データ履歴管理の実装

**API 開発**

-   Twitter OAuth API の実装
-   Twitter API の活用（ツイート投稿、いいね、フォロー、フォロワーリスト取得）
-   レート制限への対応実装
-   エラーハンドリングとリトライロジック
-   API レスポンスの適切な処理

**自動化・バッチ処理**

-   Laravel スケジューラーの実装と設定
-   コマンドラインプログラムの作成（Artisan Commands）
-   Cron による定期実行の設定
-   非同期処理の設計

**セキュリティ実装**

-   OAuth 認証フローの理解と実装
-   CSRF 対策の実装
-   パスワードリセット機能の実装
-   セッション管理の実装
-   権限制御の実装
-   SQL インジェクション対策（Eloquent ORM）

### 設計・アーキテクチャスキル

**システム設計**

-   複数サービス管理のための設計パターン活用
-   レート制限に対応した負荷分散設計
-   スケジューラーを使った分散処理設計
-   ステータス管理の設計（停止/稼動中/制限中）

**バリデーションロジック**

-   日本語プロフィール判定機能の実装
-   AND/OR 条件検索の実装
-   除外ワード機能の実装
-   履歴チェックによる重複防止ロジック

**エラーハンドリング**

-   Twitter API エラーの検知と分類
-   レート制限時の自動待機機能
-   ログによる詳細なエラー追跡
-   ユーザーへの適切なエラー通知

### 開発プロセス

**開発環境構築**

-   Composer/NPM による依存関係管理
-   Laravel Mix によるビルドプロセスの理解
-   環境変数管理（.env ファイル）
-   Git によるバージョン管理

**デプロイメント**

-   本番環境へのデプロイ手順の理解
-   Web サーバー（Nginx/Apache/Nginx）設定
-   Cron 設定による自動実行の実装
-   環境分離の実践

**テスト**

-   PHPUnit による単体テストの作成
-   フィーチャーテストの実装
-   テストカバレッジの理解

### その他

**メール送信機能**

-   SendGrid によるメール送信の実装
-   各イベントに応じたメールテンプレートの作成
-   トランザクションメールの実装

**ログ管理**

-   Laravel のログ機能の活用
-   デバッグ情報の記録
-   運用監視のためのログ設計

**ユーザー体験の向上**

-   ダッシュボード UI の設計
-   タブベースの UI 実装
-   リアルタイム状態表示
-   フィードバック機能の実装

このプロジェクトを通じて、モダンな Web アプリケーション開発に必要なフルスタック開発スキルを幅広く習得しました。特に、API 連携、自動化、セキュリティ、スケーラビリティを考慮した設計能力を身につけることができました。
